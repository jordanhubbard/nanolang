{"id":"nanolang-1fz","title":"Convert static buffers to dynamic allocation","description":"HIGH: Static buffers at transpiler.c:72,86,93,535 and iterative:176 cause race conditions if used concurrently and incorrect behavior with multiple calls. Convert to dynamic allocation or document limitations. Estimated: 3-4 hours.","status":"open","priority":1,"issue_type":"bug","created_at":"2025-12-15T15:38:28.772571-08:00","updated_at":"2025-12-15T15:38:28.772571-08:00","labels":["high","thread-safety","transpiler"],"dependencies":[{"issue_id":"nanolang-1fz","depends_on_id":"nanolang-n2z","type":"parent-child","created_at":"2025-12-15T15:38:29.170645-08:00","created_by":"daemon"}]}
{"id":"nanolang-1g6","title":"Audit transpiler architecture and code organization","description":"Completed: Analyzed 3,218 lines across transpiler.c (2,171 lines) and transpiler_iterative_v3_twopass.c (1,048 lines). Identified function complexity issues (transpile_to_c is 1,458 lines = 23% of codebase). Created nanolang-6rs for refactoring.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-15T16:01:18.674661-08:00","updated_at":"2025-12-15T16:01:19.273227-08:00","closed_at":"2025-12-15T16:01:19.273227-08:00","labels":["architecture","audit","completed","transpiler"],"dependencies":[{"issue_id":"nanolang-1g6","depends_on_id":"nanolang-n2z","type":"parent-child","created_at":"2025-12-15T16:01:19.02367-08:00","created_by":"daemon"}]}
{"id":"nanolang-3j0","title":"Document findings and recommendations","description":"Completed: Created 7 comprehensive documents: TRANSPILER_CODE_AUDIT_2025-12-15.md (full audit), TRANSPILER_AUDIT_BEADS.md (issue mapping), CLOSURES_VS_FIRSTCLASS.md, INTERPRETER_VS_COMPILED_STATUS.md, OUTDATED_ASSUMPTIONS_FIXED.md, SESSION_SUMMARY_2025-12-15.md, TRANSPILER_AUDIT_2025-12-15.md (crash fixes).","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-15T16:01:18.98763-08:00","updated_at":"2025-12-15T16:01:19.490335-08:00","closed_at":"2025-12-15T16:01:19.490335-08:00","labels":["audit","completed","documentation","transpiler"],"dependencies":[{"issue_id":"nanolang-3j0","depends_on_id":"nanolang-n2z","type":"parent-child","created_at":"2025-12-15T16:01:19.237204-08:00","created_by":"daemon"}]}
{"id":"nanolang-4u8","title":"Add unit tests for transpiler components","description":"MEDIUM: No isolated tests for StringBuilder, registries, error handling. Add unit tests for key components. Estimated: 12-16 hours.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-15T15:38:28.941068-08:00","updated_at":"2025-12-15T15:38:28.941068-08:00","labels":["medium","testing","transpiler"],"dependencies":[{"issue_id":"nanolang-4u8","depends_on_id":"nanolang-n2z","type":"parent-child","created_at":"2025-12-15T15:38:29.28715-08:00","created_by":"daemon"},{"issue_id":"nanolang-4u8","depends_on_id":"nanolang-cyg","type":"blocks","created_at":"2025-12-15T15:38:29.410635-08:00","created_by":"daemon"}]}
{"id":"nanolang-5qx","title":"Fix unsafe strcpy/strcat in generated C code","description":"CRITICAL: Generated code uses strcpy/strcat which can cause buffer overflows in compiled programs. Affects: transpiler.c:872-873 (dir listing), 1257-1258 (string concat). Replace with memcpy. This affects ALL users' compiled programs. Estimated: 2-3 hours.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-15T15:38:28.445986-08:00","updated_at":"2025-12-15T15:55:29.543526-08:00","closed_at":"2025-12-15T15:55:29.543526-08:00","labels":["critical","generated-code","security","transpiler"],"dependencies":[{"issue_id":"nanolang-5qx","depends_on_id":"nanolang-n2z","type":"parent-child","created_at":"2025-12-15T15:38:29.019962-08:00","created_by":"daemon"}]}
{"id":"nanolang-5th","title":"Fix realloc() error handling to prevent memory leaks","description":"CRITICAL: 6 realloc calls don't check return value. If realloc fails, returns NULL but original pointer is lost (memory leak) and next use crashes. Affects: transpiler.c:27, 69, 144, 297-298, 351-354, 1500. Estimated: 2 hours.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-15T15:38:28.520516-08:00","updated_at":"2025-12-15T16:04:31.505281-08:00","closed_at":"2025-12-15T16:04:31.505281-08:00","labels":["critical","memory-safety","realloc","transpiler"],"dependencies":[{"issue_id":"nanolang-5th","depends_on_id":"nanolang-n2z","type":"parent-child","created_at":"2025-12-15T15:38:29.057576-08:00","created_by":"daemon"}]}
{"id":"nanolang-5uc","title":"Fix integer overflow in StringBuilder buffer growth","description":"CRITICAL: transpiler.c:25-27 capacity *= 2 can overflow if capacity \u003e INT_MAX/2. Add overflow checks before doubling. Estimated: 1 hour.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-15T15:38:28.706205-08:00","updated_at":"2025-12-15T16:04:31.462462-08:00","closed_at":"2025-12-15T16:04:31.462462-08:00","labels":["critical","integer-overflow","safety","transpiler"],"dependencies":[{"issue_id":"nanolang-5uc","depends_on_id":"nanolang-n2z","type":"parent-child","created_at":"2025-12-15T15:38:29.133571-08:00","created_by":"daemon"}]}
{"id":"nanolang-6fy","title":"Review string handling and buffer management","description":"Completed: Fixed critical unsafe strcpy/strcat in generated code (nanolang-5qx). Identified static buffer thread-safety issues (nanolang-1fz). Fixed integer overflow in StringBuilder (nanolang-5uc). All string operations now use memcpy with proper bounds checking.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-15T16:01:18.780381-08:00","updated_at":"2025-12-15T16:01:19.345941-08:00","closed_at":"2025-12-15T16:01:19.345941-08:00","labels":["audit","completed","string-handling","transpiler"],"dependencies":[{"issue_id":"nanolang-6fy","depends_on_id":"nanolang-n2z","type":"parent-child","created_at":"2025-12-15T16:01:19.096443-08:00","created_by":"daemon"}]}
{"id":"nanolang-6rs","title":"Refactor transpile_to_c() into smaller functions","description":"MEDIUM: transpile_to_c() is 1,458 lines (23% of codebase!). Break into: generate_headers(), generate_type_definitions(), generate_function_declarations(), etc. Estimated: 8-12 hours.","status":"open","priority":2,"issue_type":"chore","created_at":"2025-12-15T15:38:28.8867-08:00","updated_at":"2025-12-15T15:38:28.8867-08:00","labels":["maintainability","medium","refactoring","transpiler"],"dependencies":[{"issue_id":"nanolang-6rs","depends_on_id":"nanolang-n2z","type":"parent-child","created_at":"2025-12-15T15:38:29.24617-08:00","created_by":"daemon"},{"issue_id":"nanolang-6rs","depends_on_id":"nanolang-cyg","type":"related","created_at":"2025-12-15T15:38:29.450449-08:00","created_by":"daemon"}]}
{"id":"nanolang-cyg","title":"Add error propagation to transpiler functions","description":"CRITICAL: Many functions return void and can't signal errors (e.g., sb_append). Errors silently propagate until crash. Make key functions return bool/error codes and propagate up. Estimated: 6-8 hours.","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-15T15:38:28.635314-08:00","updated_at":"2025-12-15T15:38:28.635314-08:00","labels":["critical","error-handling","transpiler"],"dependencies":[{"issue_id":"nanolang-cyg","depends_on_id":"nanolang-n2z","type":"parent-child","created_at":"2025-12-15T15:38:29.093453-08:00","created_by":"daemon"},{"issue_id":"nanolang-cyg","depends_on_id":"nanolang-kg3","type":"blocks","created_at":"2025-12-15T15:38:29.33088-08:00","created_by":"daemon"},{"issue_id":"nanolang-cyg","depends_on_id":"nanolang-5th","type":"blocks","created_at":"2025-12-15T15:38:29.371868-08:00","created_by":"daemon"}]}
{"id":"nanolang-dx1","title":"Check for memory safety issues (leaks, use-after-free, buffer overflows)","description":"Completed: Found and fixed 3 memory leaks (free_fn_type_registry, free_tuple_type_registry, double-free). Identified 36 malloc calls without NULL checks (nanolang-kg3), 6 unsafe realloc calls (nanolang-5th), and buffer overflow risks in generated code (nanolang-5qx - fixed).","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-15T16:01:18.729848-08:00","updated_at":"2025-12-15T16:01:19.310398-08:00","closed_at":"2025-12-15T16:01:19.310398-08:00","labels":["audit","completed","memory-safety","transpiler"],"dependencies":[{"issue_id":"nanolang-dx1","depends_on_id":"nanolang-n2z","type":"parent-child","created_at":"2025-12-15T16:01:19.059079-08:00","created_by":"daemon"}]}
{"id":"nanolang-gho","title":"Check for potential NULL pointer dereferences","description":"Completed: Fixed NULL pointer dereference at transpiler_iterative_v3_twopass.c:319 (func_name in strcmp). Identified 36 allocations with only 3 NULL checks (8% coverage). Created nanolang-kg3 to systematically add NULL checks after all malloc/calloc/realloc.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-15T16:01:18.929707-08:00","updated_at":"2025-12-15T16:01:19.452773-08:00","closed_at":"2025-12-15T16:01:19.452773-08:00","labels":["audit","completed","null-checks","transpiler"],"dependencies":[{"issue_id":"nanolang-gho","depends_on_id":"nanolang-n2z","type":"parent-child","created_at":"2025-12-15T16:01:19.200896-08:00","created_by":"daemon"}]}
{"id":"nanolang-huk","title":"Check error handling consistency","description":"Completed: Found inconsistent error handling patterns (NULL returns, empty strings, void functions). Created nanolang-cyg to add comprehensive error propagation. Documented that sb_append and other core functions need bool return values.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-15T16:01:18.829387-08:00","updated_at":"2025-12-15T16:01:19.380672-08:00","closed_at":"2025-12-15T16:01:19.380672-08:00","labels":["audit","completed","error-handling","transpiler"],"dependencies":[{"issue_id":"nanolang-huk","depends_on_id":"nanolang-n2z","type":"parent-child","created_at":"2025-12-15T16:01:19.130435-08:00","created_by":"daemon"}]}
{"id":"nanolang-kg3","title":"Add NULL checks after all malloc/calloc/realloc calls","description":"CRITICAL: 36 allocations with only 3 NULL checks (8% coverage). If malloc fails, program segfaults instead of failing gracefully. Affects: sb_create(), get_tuple_typedef_name(), get_function_typedef_name(), and all registry allocations. Estimated: 4-6 hours.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-15T15:38:28.374219-08:00","updated_at":"2025-12-15T16:58:09.914959-08:00","closed_at":"2025-12-15T16:58:09.914959-08:00","labels":["critical","malloc","memory-safety","transpiler"],"dependencies":[{"issue_id":"nanolang-kg3","depends_on_id":"nanolang-n2z","type":"parent-child","created_at":"2025-12-15T15:38:28.981206-08:00","created_by":"daemon"}]}
{"id":"nanolang-l2j","title":"Implement struct/union return type handling","description":"HIGH: transpiler.c:1874 has TODO to fix struct/union return types. Currently skipped (continue statement), may cause link errors. Estimated: 8-12 hours.","status":"open","priority":1,"issue_type":"feature","created_at":"2025-12-15T15:38:28.832166-08:00","updated_at":"2025-12-15T15:38:28.832166-08:00","labels":["feature","high","todo","transpiler"],"dependencies":[{"issue_id":"nanolang-l2j","depends_on_id":"nanolang-n2z","type":"parent-child","created_at":"2025-12-15T15:38:29.208472-08:00","created_by":"daemon"}]}
{"id":"nanolang-n2z","title":"Transpiler Memory Safety \u0026 Code Quality Improvements","description":"Comprehensive improvements to transpiler memory safety, error handling, and code quality based on 2025-12-15 audit. Found 23 issues: 8 CRITICAL, 6 HIGH, 5 MEDIUM, 4 LOW. Total estimated effort: 60-80 hours.","status":"open","priority":0,"issue_type":"epic","created_at":"2025-12-15T15:37:27.211867-08:00","updated_at":"2025-12-15T15:37:27.211867-08:00","labels":["audit","epic","safety","transpiler"]}
{"id":"nanolang-sey","title":"Review function complexity and code duplication","description":"Completed: Identified transpile_to_c() as 1,458 lines (23% of codebase). Found significant code duplication in array operation handling. Created nanolang-6rs for refactoring into smaller functions (generate_headers, generate_type_definitions, etc.).","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-15T16:01:18.879913-08:00","updated_at":"2025-12-15T16:01:19.417154-08:00","closed_at":"2025-12-15T16:01:19.417154-08:00","labels":["audit","completed","complexity","transpiler"],"dependencies":[{"issue_id":"nanolang-sey","depends_on_id":"nanolang-n2z","type":"parent-child","created_at":"2025-12-15T16:01:19.165625-08:00","created_by":"daemon"}]}
