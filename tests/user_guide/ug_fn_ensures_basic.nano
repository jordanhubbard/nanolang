/* User guide test: function ensures postcondition */
fn abs_value(x: int) -> int
ensures (>= result 0)
{
    return (cond
        ((< x 0) (- 0 x))
        (else x)
    )
}

shadow abs_value {
    assert (== (abs_value 5) 5)
    assert (== (abs_value -5) 5)
    assert (== (abs_value 0) 0)
}

fn main() -> int {
    (println (int_to_string (abs_value -42)))
    return 0
}

shadow main { assert true }
