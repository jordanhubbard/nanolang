/* User guide test: canonical while loop */
fn count_digits(n: int) -> int {
    let mut count: int = 0
    let mut val: int = n
    if (== val 0) { return 1 }
    while (> val 0) {
        set val (/ val 10)
        set count (+ count 1)
    }
    return count
}

shadow count_digits {
    assert (== (count_digits 0) 1)
    assert (== (count_digits 5) 1)
    assert (== (count_digits 99) 2)
    assert (== (count_digits 1000) 4)
}

fn main() -> int {
    (println (int_to_string (count_digits 12345)))
    return 0
}

shadow main { assert true }
