/* User guide test: type system generic List operations */
fn sum_list(xs: List<int>) -> int {
    let mut total: int = 0
    let len: int = (list_int_length xs)
    let mut i: int = 0
    while (< i len) {
        let v: int = (list_int_get xs i)
        set total (+ total v)
        set i (+ i 1)
    }
    return total
}

shadow sum_list {
    let xs: List<int> = (list_int_new)
    (list_int_push xs 1)
    (list_int_push xs 2)
    (list_int_push xs 3)
    assert (== (sum_list xs) 6)
}

fn main() -> int {
    let xs: List<int> = (list_int_new)
    (list_int_push xs 10)
    (list_int_push xs 20)
    assert (== (sum_list xs) 30)
    return 0
}

shadow main { assert true }
