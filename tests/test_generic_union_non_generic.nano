/* Test with non-generic union to verify match works */

union SimpleResult {
    Ok { value: int },
    Err { error: string }
}

fn main() -> int {
    let r: SimpleResult = SimpleResult.Ok { value: 42 }
    
    match r {
        Ok(v) => {
            return v.value
        }
        Err(e) => {
            return 0
        }
    }
}

shadow main {
    assert (== (main) 42)
}

