import "modules/std/collections/stringbuilder.nano" as sb
from "modules/std/collections/stringbuilder.nano" import sb_join as join_strings

fn joined_alias(parts: array<string>) -> string {
    return (join_strings parts ",")
}

shadow joined_alias {
    let parts: array<string> = ["a", "b", "c"]
    assert (== (joined_alias parts) "a,b,c")
}

fn joined_module(parts: array<string>) -> string {
    return (sb.sb_join parts ",")
}

shadow joined_module {
    let parts: array<string> = ["x", "y"]
    assert (== (joined_module parts) "x,y")
}

fn main() -> int {
    let parts: array<string> = ["ok"]
    let value: string = (joined_module parts)
    if (== value "ok") {
        return 0
    } else {
        return 1
    }
}

shadow main {
    assert (== (main) 0)
}
