/* Test std::env - get_argc/get_argv only */

extern fn get_argc() -> int
extern fn get_argv(index: int) -> string

fn main() -> int {
    (println "=== Testing get_argc/get_argv ===")
    
    let mut argc: int = 0
    unsafe {
        set argc (get_argc)
    }
    (print "argc: ")
    (println (int_to_string argc))
    
    let mut i: int = 0
    while (< i argc) {
        let mut arg: string = ""
        unsafe {
            set arg (get_argv i)
        }
        (print "argv[")
        (print (int_to_string i))
        (print "]: ")
        (println arg)
        set i (+ i 1)
    }
    
    (println "Test passed!")
    return 0
}

shadow main {
    assert (== (main) 0)
}

