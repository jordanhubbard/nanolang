# Test module introspection on existing vector2d module

module "modules/vector2d/vector2d.nano" as Vec

# Introspection functions (generated by transpiler)
extern fn ___module_function_count_vector2d() -> int
extern fn ___module_struct_count_vector2d() -> int
extern fn ___module_is_unsafe_vector2d() -> bool
extern fn ___module_has_ffi_vector2d() -> bool

fn main() -> int {
    (println "=== Module Introspection Test (vector2d) ===")
    
    # Test module safety flags
    let is_unsafe: bool = (___module_is_unsafe_vector2d)
    let has_ffi: bool = (___module_has_ffi_vector2d)
    
    (print "Module is unsafe: ")
    (println (cond (is_unsafe "true") (else "false")))
    
    (print "Module has FFI: ")
    (println (cond (has_ffi "true") (else "false")))
    
    # Test exported functions count
    let func_count: int = (___module_function_count_vector2d)
    
    (print "Exported function count: ")
    (println (int_to_string func_count))
    
    # Test exported structs count
    let struct_count: int = (___module_struct_count_vector2d)
    
    (print "Exported struct count: ")
    (println (int_to_string struct_count))
    
    (println "âœ“ Module introspection test complete!")
    
    return 0
}

shadow main {
    assert (== (main) 0)
}
