/* Test ensures clause failure - this should fail at runtime */

fn bad_add(a: int, b: int) -> int
ensures (> result 100)  /* This will fail when we return 15 */
{
    return (+ a b)
}

shadow bad_add {
    /* Don't call bad_add here - shadow tests would fail compilation */
    assert true
}

fn main() -> int {
    /* This should trigger the ensures failure at runtime */
    (println (int_to_string (bad_add 5 10)))  /* Returns 15, but ensures > 100 */
    return 0
}

shadow main { assert true }
